# Test Design: Story 2.3

Date: 2025-08-17
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 8
- Unit tests: 6 (75%)
- Integration tests: 2 (25%)
- E2E tests: 0 (0%)
- Priority distribution: P0: 0, P1: 6, P2: 2

## Test Scenarios by Acceptance Criteria

### AC1: Config Service APIs and behavior

#### Scenarios (AC1)

| ID            | Level | Priority | Test                                                                 | Justification                   |
| ------------- | ----- | -------- | -------------------------------------------------------------------- | -------------------------------- |
| 2.3-UNIT-001  | Unit  | P2       | getCoreConfigPath returns absolute path                              | Pure path composition           |
| 2.3-UNIT-002  | Unit  | P1       | openCoreConfig success returns code 0                                | Core happy path                 |
| 2.3-UNIT-003  | Unit  | P1       | Missing file rejects with actionable message                         | Negative path correctness       |
| 2.3-UNIT-004  | Unit  | P1       | Opener returns non-zero -> actionable error                          | Robustness of opener handling   |
| 2.3-UNIT-005  | Unit  | P1       | Read permission denied suggests --allow-read                         | Security/permissions messaging  |
| 2.3-UNIT-006  | Unit  | P1       | Run permission denied suggests --allow-run                           | Security/permissions messaging  |

### AC2: CLI --open-config behavior

#### Scenarios (AC2)

| ID            | Level       | Priority | Test                                                     | Justification                 |
| ------------- | ----------- | -------- | -------------------------------------------------------- | ----------------------------- |
| 2.3-INT-001   | Integration | P1       | CLI prints success and exits 0                           | Contract and UX expectation   |
| 2.3-INT-002   | Integration | P1       | CLI prints actionable error and exits 1 on failure       | Error handling and UX         |

### AC3: Centralized dependencies

#### Scenarios (AC3)

| ID            | Level       | Priority | Test                                                     | Justification                        |
| ------------- | ----------- | -------- | -------------------------------------------------------- | ------------------------------------ |
| 2.3-UNIT-007  | Unit        | P2       | Config service imports external deps via deps.ts         | Static import policy conformance     |

## Risk Coverage

- No critical risks identified for this scope.

## Recommended Execution Order

1. P1 Unit tests (2.3-UNIT-002..006)
2. P1 Integration tests (2.3-INT-001..002)
3. P2 Unit tests (2.3-UNIT-001, 2.3-UNIT-007)
