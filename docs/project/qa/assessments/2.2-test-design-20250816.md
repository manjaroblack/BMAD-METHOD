# Test Design: Story 2.2

Date: 2025-08-16
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 10
- Unit tests: 10 (100%)
- Integration tests: 0 (0%)
- E2E tests: 0 (0%)
- Priority distribution: P0: 2, P1: 6, P2: 2

## Test Scenarios by Acceptance Criteria

### AC1: Toolkit Service provides task discovery and execution

| ID          | Level | Priority | Test                                                     | Justification                 |
| ----------- | ----- | -------- | -------------------------------------------------------- | ----------------------------- |
| 2.2-UNIT-001 | Unit  | P1       | listTasks returns normalized tasks from config           | Core discovery path           |
| 2.2-UNIT-002 | Unit  | P0       | runTask unknown task rejects with helpful message        | UX/error contract             |
| 2.2-UNIT-003 | Unit  | P1       | runTask executes via deno task with pass-through args    | Correct execution semantics   |

### AC2: Toolkit Menu View lists tasks and runs selected

| ID          | Level | Priority | Test                                     | Justification                |
| ----------- | ----- | -------- | ---------------------------------------- | ---------------------------- |
| 2.2-UNIT-004 | Unit  | P1       | Empty state renders when no tasks        | UX requirement                |
| 2.2-UNIT-005 | Unit  | P1       | Renders tasks and runs selected task     | Core interaction              |
| 2.2-UNIT-006 | Unit  | P2       | Back action returns to Main Menu         | Navigation completeness       |

### AC3: CLI bypass to run toolkit tasks without launching the TUI

| ID          | Level | Priority | Test                                                   | Justification                 |
| ----------- | ----- | -------- | ------------------------------------------------------ | ----------------------------- |
| 2.2-UNIT-007 | Unit  | P0       | Runs task with pass-through args and returns code      | Contract and exit code        |
| 2.2-UNIT-008 | Unit  | P1       | Unknown task prints suggestions and exits with code 1  | UX/error contract             |
| 2.2-UNIT-009 | Unit  | P1       | Without pass-through does not add --                   | CLI semantics                 |

### AC4: Centralized dependencies

| ID          | Level | Priority | Test                                                        | Justification                 |
| ----------- | ----- | -------- | ----------------------------------------------------------- | ----------------------------- |
| 2.2-UNIT-010 | Unit  | P2       | Static check: imports go through deps.ts                    | Policy enforcement            |

## Risk Coverage

- No critical/high risks identified; P0 scenarios align to CLI contract and error paths.

## Recommended Execution Order

1. P0 Unit tests
2. P1 Unit tests
3. P2 Unit tests
